# Tree 1

## νΈλ¦¬

<aside>
π’΅ **νΈλ¦¬μ κ°λ…**

- λΉ„μ„ ν• κµ¬μ΅°
- μ›μ†λ“¤ κ°„μ— 1:n κ΄€κ³„λ¥Ό κ°€μ§€λ” μλ£κµ¬μ΅°
- μ›μ†λ“¤ κ°„μ— κ³„μΈµ κ΄€κ³„λ¥Ό κ°€μ§€λ” κ³„μΈµν• μλ£κµ¬μ΅°
- μƒμ„ μ›μ†μ—μ„ ν•μ„ μ›μ†λ΅ λ‚΄λ ¤κ°€λ©΄μ„ ν™•μ¥λλ” νΈλ¦¬(λ‚λ¬΄)λ¨μ–‘μ κµ¬μ΅°
</aside>

### μ„ ν•

μμ„κ°€ μλ” μλ£κµ¬μ΅°.

- μ¤νƒ
- ν
- λ±
- μ—°κ²°λ¦¬μ¤νΈ

### λΉ„μ„ ν•

μμ„κ°€ μ—†λ” μλ£κµ¬μ΅° index μ‚¬μ©μ΄ μ ν•λ¨

- λ”•μ…”λ„λ¦¬
- set
- ν•΄μ‰¬
- κ·Έλν”„
    - νΉμν• κ·Έλν”„ β†’ νΈλ¦¬

### μ •μ

- ν• κ° μ΄μƒμ λ…Έλ“λ΅ μ΄λ£¨μ–΄μ§„ μ ν• μ§‘ν•©μ΄λ©° λ‹¤μ μ΅°κ±΄μ„ λ§μ΅±ν•λ‹¤.
    - λ…Έλ“ μ¤‘ μµμƒμ„ λ…Έλ“λ¥Ό λ£¨νΈ(root)λΌ ν•λ‹¤.
    - λ‚λ¨Έμ§€ λ…Έλ“λ“¤μ€ n(β‰¥ 0)κ°μ λ¶„λ¦¬ μ§‘ν•© T1,β€¦,TNμΌλ΅ λ¶„λ¦¬λ  μ μλ‹¤.
- μ΄λ“¤μ€ T1, β€¦ , TNμ€ κ°κ° ν•λ‚μ νΈλ¦¬κ°€ λλ©°(μ¬κ·€μ  μ •μ) λ£¨νΈμ λ¶€ νΈλ¦¬(subtree)λΌ ν•λ‹¤.
- κ°λ³„ λ…Έλ“ λν• λ¶€λ¶„μ§‘ν•©μ κ΄€μ μ—μ„ νΈλ¦¬λΌκ³  ν•  μ μλ‹¤.

### μ©μ–΄ μ •λ¦¬

![image.png](./image/tree1.png)

- λ…Έλ“(node) - νΈλ¦¬μ μ›μ†
    - νΈλ¦¬ Tμ λ…Έλ“ - A, B, C, D, E, F, G, H, I, J, K
- κ°„μ„ (edge) - λ…Έλ“λ¥Ό μ—°κ²°ν•λ” μ„ . λ¶€λ¨ λ…Έλ“μ™€ μμ‹ λ…Έλ“λ¥Ό μ—°κ²°
- λ£¨νΈ λ…Έλ“(root node) - νΈλ¦¬μ μ‹μ‘ λ…Έλ“
    - νΈλ¦¬ Tμ λ£¨νΈ λ…Έλ“ - A
- ν•μ  λ…Έλ“(sibling node) - κ°™μ€ λ¶€λ¨ λ…Έλ“μ μμ‹ λ…Έλ“λ“¤
    - B,C,Dλ” ν•μ  λ…Έλ“
    - ν•μ  λ…Έλ“λΌλ¦¬λ” μ—°κ²°λ  μ μ—†λ‹¤. β†’ νΈλ¦¬λ” μ‚¬μ΄ν΄μ΄ μ—†λ‹¤.
- μ΅°μƒ λ…Έλ“ - κ°„μ„ μ„ λ”°λΌ λ£¨νΈ λ…Έλ“κΉμ§€ μ΄λ¥΄λ” κ²½λ΅μ— μλ” λ¨λ“  λ…Έλ“λ“¤
    - Kμ μ΅°μƒ λ…Έλ“ : F, B, A
- μ„λΈ νΈλ¦¬(subtree) - λ¶€λ¨ λ…Έλ“μ™€ μ—°κ²°λ κ°„μ„ μ„ λμ—μ„ λ• μƒμ„±λλ” νΈλ¦¬
- μμ† λ…Έλ“ - μ„λΈ νΈλ¦¬μ— μλ” ν•μ„ λ λ²¨μ λ…Έλ“λ“¤
    - Bμ μμ† λ…Έλ“ - E, F, K
- μ°¨μ(degree)
    - λ…Έλ“μ μ°¨μ : λ…Έλ“μ— μ—°κ²°λ μμ‹ λ…Έλ“μ μ.
        - Bμ μ°¨μ = 2, Cμ μ°¨μ = 1
    - νΈλ¦¬μ μ°¨μ : νΈλ¦¬μ— μλ” λ…Έλ“μ μ°¨μ μ¤‘μ—μ„ κ°€μ¥ ν° κ°’
        - νΈλ¦¬ Tμ μ°¨μ=3
    - λ‹¨λ§ λ…Έλ“(λ¦¬ν”„ λ…Έλ“) μ°¨μκ°€ 0μΈ λ…Έλ“. μμ‹ λ…Έλ“κ°€ μ—†λ” λ…Έλ“
- λ†’μ΄
    - λ…Έλ“μ λ†’μ΄ : λ£¨νΈμ—μ„ λ…Έλ“μ— μ΄λ¥΄λ” κ°„μ„ μ μ. λ…Έλ“μ λ λ²¨
        - Bμ λ†’μ΄=1, Fμ λ†’μ΄=2
    - νΈλ¦¬μ λ†’μ΄ : νΈλ¦¬μ— μλ” λ…Έλ“μ λ†’μ΄ μ¤‘μ—μ„ κ°€μ¥ ν° κ°’. μµλ€ λ λ²¨
        - νΈλ¦¬ Tμ λ†’μ΄=3

## μ΄μ§„ νΈλ¦¬

- λ¨λ“  λ…Έλ“λ“¤μ΄ 2κ°μ μ„λΈνΈλ¦¬λ¥Ό κ°–λ” νΉλ³„ν• ν•νƒμ νΈλ¦¬
- κ° λ…Έλ“κ°€ μμ‹ λ…Έλ“λ¥Ό μµλ€ν• 2κ° κΉμ§€λ§ κ°€μ§ μ μλ” νΈλ¦¬
    - μ™Όμ½ μμ‹ λ…Έλ“(left child node)
    - μ¤λ¥Έμ½ μμ‹ λ…Έλ“(right child node)

### νΉμ„±

- λ λ²¨ iμ—μ„μ λ…Έλ“μ μµλ€ κ°μλ” $2^i$κ°
- λ†’μ΄κ°€ hμΈ μ΄μ§„ νΈλ¦¬κ°€ κ°€μ§ μ μλ” λ…Έλ“μ μµμ† κ°μλ” (h+1)κ°κ°€ λλ©°, μµλ€ κ°μλ” (2^(h+1)-1)κ°κ°€ λλ‹¤.

### μΆ…λ¥

- ν¬ν™” μ΄μ§„ νΈλ¦¬(Full Binary Tree)
    - λ¨λ“  λ λ²¨μ— λ…Έλ“κ°€ ν¬ν™” μƒνƒλ΅ μ°¨ μλ” μ΄μ§„ νΈλ¦¬
    - λ†’μ΄κ°€ hμΌ λ•, μµλ€μ λ…Έλ“ κ°μμΈ (2^(h+1)-1)μ λ…Έλ“λ¥Ό κ°€μ§„ μ΄μ§„ νΈλ¦¬
        - λ†’μ΄ 3μΌ λ• 2^(3+1)-1 = 15κ°μ λ…Έλ“
    - λ£¨νΈλ¥Ό 1λ²μΌλ΅ ν•μ—¬ 2^(h+1)-1κΉμ§€ μ •ν•΄μ§„ μ„μΉμ— λ€ν• λ…Έλ“ λ²νΈλ¥Ό κ°€μ§
- μ™„μ „ μ΄μ§„ νΈλ¦¬(Complete Binary Tree)
    - λ†’μ΄κ°€ hμ΄κ³  λ…Έλ“ μκ°€ nκ°μΌ λ• (λ‹¨, $2^h$ β‰¤ n β‰¤ 2^(h+1)-1), ν¬ν™” μ΄μ§„ νΈλ¦¬μ λ…Έλ“ λ²νΈ 1λ²λ¶€ν„° 2λ²κΉμ§€ λΉ μλ¦¬κ°€ μ—†λ” μ΄μ§„ νΈλ¦¬
- νΈν–¥ μ΄μ§„ νΈλ¦¬(Skewed Binary Tree)
    - λ†’μ΄ hμ— λ€ν• μµμ† κ°μμ λ…Έλ“λ¥Ό κ°€μ§€λ©΄μ„ ν•μ½ λ°©ν–¥μ μμ‹ λ…Έλ“λ§μ„ κ°€μ§„ μ΄μ§„ νΈλ¦¬
        - μ™Όμ½ νΈν–¥ μ΄μ§„ νΈλ¦¬
        - μ¤λ¥Έμ½ νΈν–¥ μ΄μ§„ νΈλ¦¬

### μν

- μν(traversal)λ€ νΈλ¦¬μ κ° λ…Έλ“λ¥Ό μ¤‘λ³µλμ§€ μ•κ² μ „λ¶€ λ°©λ¬Έ(visit) ν•λ” κ²ƒμ„ λ§ν•λ”λ° νΈλ¦¬λ” λΉ„ μ„ ν• κµ¬μ΅°μ΄κΈ° λ•λ¬Έμ— μ„ ν•κµ¬μ΅°μ—μ„μ™€ κ°™μ΄ μ„ ν›„ μ—°κ²° κ΄€κ³„λ¥Ό μ• μ μ—†λ‹¤.
- λ”°λΌμ„ νΉλ³„ν• λ°©λ²•μ΄ ν•„μ”ν•λ‹¤.
- μν(traversal): νΈλ¦¬μ λ…Έλ“λ¥Ό μ²΄κ³„μ μΌλ΅ λ°©λ¬Έν•λ” κ²ƒ
- 3κ°€μ§€μ κΈ°λ³Έμ μΈ μν λ°©λ²•
    - **μ „μ„μν(preorder traversal)** : VLR
        - λ¶€λ¨λ…Έλ“ λ°©λ¬Έ ν›„, μμ‹λ…Έλ“λ¥Ό μΆ,μ° μμ„λ΅ λ°©λ¬Έν•λ‹¤.
        - μν–‰ λ°©λ²•
            1. ν„μ¬ λ…Έλ“ nμ„ λ°©λ¬Έν•μ—¬ μ²λ¦¬ν•λ‹¤. β†’ V
            2. ν„μ¬ λ…Έλ“ nμ μ™Όμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ν•λ‹¤. β†’ L
            3. ν„μ¬ λ…Έλ“ nμ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ν•λ‹¤. β†’ R
    - **μ¤‘μ„μν(inorder traversal)** : LVR
        - μ™Όμ½ μμ‹λ…Έλ“, λ¶€λ¨λ…Έλ“, μ¤λ¥Έμ½ μμ‹λ…Έλ“ μμΌλ΅ λ°©λ¬Έν•λ‹¤.
        - μν–‰ λ°©λ²•
            1. ν„μ¬ λ…Έλ“ nμ μ™Όμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ν•λ‹¤. β†’ L
            2. ν„μ¬ λ…Έλ“ nμ„ λ°©λ¬Έν•μ—¬ μ²λ¦¬ν•λ‹¤ β†’ V
            3. ν„μ¬ λ…Έλ“ nμ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ν•λ‹¤. β†’ R
    - **ν›„μ„μν(postorder traversal)** : LRV
        - μμ‹λ…Έλ“λ¥Ό μΆμ° μμ„λ΅ λ°©λ¬Έν• ν›„, λ¶€λ¨λ…Έλ“λ΅ λ°©λ¬Έν•λ‹¤.
        - μν–‰ λ°©λ²•
            1. ν„μ¬ λ…Έλ“ nμ μ™Όμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ν•λ‹¤. β†’ L
            2. ν„μ¬ λ…Έλ“ nμ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ν•λ‹¤. β†’ R
            3. ν„μ¬ λ…Έλ“ nμ„ λ°©λ¬Έν•μ—¬ μ²λ¦¬ν•λ‹¤. β†’ V

## μ΄μ§„ νΈλ¦¬μ ν‘ν„

### λ°°μ—΄μ„ μ΄μ©ν• μ΄μ§„ νΈλ¦¬μ ν‘ν„

- μ΄μ§„ νΈλ¦¬μ— κ° λ…Έλ“ λ²νΈλ¥Ό λ‹¤μκ³Ό κ°™μ΄ λ¶€μ—¬
- λ£¨νΈμ λ²νΈλ¥Ό 1λ΅ ν•¨
- λ λ²¨ nμ— μλ” λ…Έλ“μ— λ€ν•μ—¬ μ™Όμ½λ¶€ν„° μ¤λ¥Έμ½μΌλ΅ $2^n$λ¶€ν„° 2^(n+1) -1 κΉμ§€ λ²νΈλ¥Ό μ°¨λ΅€λ΅ λ¶€μ—¬
- λ…Έλ“ λ²νΈλ¥Ό λ°°μ—΄μ μΈλ±μ¤λ΅ μ‚¬μ©

### λ…Έλ“ λ²νΈμ μ„±μ§

## [μ°Έκ³ ] μ΄μ§„ νΈλ¦¬μ μ €μ¥

## μ—°μµ λ¬Έμ 

### λ¬Έμ  1. μ „μ„, μ¤‘μ„, ν›„μ„ μν μ—°μµν•κΈ°

μ „μ„ μν A B D H I E J C F K G I M

μ¤‘μ„ μν H D I B J E A F K C L G M

ν›„μ„ μν H I D J E B K F L M G C A

### λ¬Έμ  2.

μ²« μ¤„μ—λ” νΈλ¦¬μ μ •μ μ μ΄ μ Vκ°€ μ£Όμ–΄μ§„λ‹¤. κ·Έ λ‹¤μ μ¤„μ—λ” V-1κ° κ°„μ„ μ΄ λ‚μ—΄λλ‹¤. κ°„μ„ μ€ κ·Έκ²ƒμ„ μ΄λ£¨λ” λ‘ μ •μ μΌλ΅ ν‘κΈ°λλ‹¤. κ°„μ„ μ€ ν•­μƒ β€λ¶€λ¨ μμ‹β€ μμ„λ΅ ν‘κΈ°λλ‹¤. μ•„λ μμ—μ„ λ‘ λ²μ§Έ μ¤„ μ²μ 1κ³Ό 2λ” μ •μ  1κ³Ό 2λ¥Ό μ‡λ” κ°„μ„ μ„ μλ―Έν•λ©° 1μ΄ λ¶€λ¨, 2κ°€ μμ‹μ„ μλ―Έν•λ‹¤. κ°„μ„ μ€ λ¶€λ¨ μ •μ  λ²νΈκ°€ μ‘μ€ κ²ƒλ¶€ν„° λ‚μ—΄λκ³ , λ¶€λ¨ μ •μ μ΄ λ™μΌν•λ‹¤λ©΄ μμ‹ μ •μ  λ²νΈκ°€ μ‘μ€ κ²ƒλ¶€ν„° λ‚μ—΄λλ‹¤.

λ‹¤μ μ΄μ§„ νΈλ¦¬ ν‘ν„μ— λ€ν•μ—¬ μ „μ„ μνν•μ—¬ μ •μ μ λ²νΈλ¥Ό μ¶λ ¥ν•μ‹μ¤.

```python

'''
13   <- μ •μ μ κ°μ
1 2 1 3 2 4 3 5 3 6 4 7 5 8 5 9 6 10 6 11 7 12 11 13
'''

def pre_order(T):
    if T:
        print(T, end = ' ')
        pre_order(left[T])
        pre_order(right[T])

N = int(input())        # 1λ²λ¶€ν„° Nλ²κΉμ§€μΈ μ •μ 
E = N-1
arr = list(map(int, input().split()))
left = [0]*(N+1)        # λ¶€λ¨λ¥Ό μΈλ±μ¤λ΅ μ™Όμ½μμ‹λ²νΈ μ €μ¥
right = [0]*(N+1)       #
par = [0]*(N+1)         # μμ‹μ„ μΈλ±μ¤λ΅ λ¶€λ¨ μ €μ¥

for i in range(E):
    p, c = arr[i*2], arr[i*2+1]
# for i in range(0,E*2, 2):
#         p, c = arr[i], arr[i + 1]
    if left[p]==0:          # μ™Όμ½μμ‹μ΄ μ—†μΌλ©΄
        left[p] = c
    else:
        right[p] = c
    par[c] = p

c = N
while par[c]!=0:        # λ¶€λ¨κ°€ μμΌλ©΄
    c = par[c]          # λ¶€λ¨λ¥Ό μƒλ΅μ΄ μμ‹μΌλ΅ λ‘κ³ 
root = c                # λ”μ΄μƒ λ¶€λ¨κ°€ μ—†μΌλ©΄ root
print(root)
pre_order(root)
```